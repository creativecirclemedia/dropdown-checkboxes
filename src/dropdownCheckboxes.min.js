(function(a){var e={init:function(c){a(this).find(".dropdown-menu li").click(function(a){a.stopPropagation()});a(this).each(function(b){b=a(this);b.addClass("dropdownCheckboxes");b.data("default-label",b.find(".dropdown-toggle").html().trim());b.append(a("<input/>",{type:"hidden","class":"hidden-input",name:b.data("name"),value:""}));b.find("input[type=checkbox]").click(function(){a(this).dropdownCheckboxes("eval")});b.find("button.save").click(function(){a(this).dropdownCheckboxes("eval")});b.find("button.clear").click(function(){a(this).closest(".dropdownCheckboxes").find("input[type=checkbox]").prop("checked",
!1).trigger("change");a(this).dropdownCheckboxes("eval")});b.find("button.selectall").click(function(){a(this).closest(".dropdownCheckboxes").find("input[type=checkbox]").prop("checked",!0).trigger("change");a(this).dropdownCheckboxes("eval")});b.dropdownCheckboxes("eval")});return this},eval:function(){var c=a(this).hasClass("dropdownCheckboxes")?a(this):a(this).closest(".dropdownCheckboxes"),b=[],d=[];c.find("input[type=checkbox]:checked").each(function(c){b.push(a(this).closest("label").text().trim());
d.push(a(this).val())});200<d.length?c.find(".dropdown-toggle").html(b.length+" selected"):0<d.length?c.find(".dropdown-toggle").html(b.join(", ")):c.find(".dropdown-toggle").html(c.data("default-label"));c.find("input.hidden-input").val(JSON.stringify(d));(a(this).hasClass("save")||a(this).hasClass("close-dropdown"))&&a(this).closest(".dropdown-menu").prev().dropdown("toggle");return this},apply:function(){return this},cancel:function(){return this}};a.fn.dropdownCheckboxes=function(a){if(e[a])return e[a].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return e.init.apply(this,arguments)}})(jQuery);